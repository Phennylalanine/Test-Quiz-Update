window.addEventListener("DOMContentLoaded", () => {
  const overallLevelEl = document.getElementById("overallLevel");

  const quizData = [
    { key: "monthsSlevel", multiplier: 0.6 },
    { key: "EventSlevel", multiplier: 0.6 },
    { key: "monthsMlevel", multiplier: 1.2 },
    { key: "eventsMlevel", multiplier: 1.2 },
    { key: "TypingLevel_Level1", multiplier: 1.0 },
    { key: "TypingLevel_Level2", multiplier: 1.0 }
  ];

  const overallLevel = quizData.reduce((sum, { key, multiplier }) => {
    const value = parseInt(localStorage.getItem(key)) || 0;
    return sum + value * multiplier;
  }, 0);

  overallLevelEl.textContent =
    overallLevel > 0
      ? `Overall Level: ${overallLevel.toFixed(0)}`
      : "Overall Level: No data yet.";

  document.querySelectorAll(".levelValue").forEach((span) => {
    const key = span.getAttribute("data-key");
    const levelValue = parseInt(localStorage.getItem(key)) || 0;
    span.textContent = `(Level: ${levelValue})`;
  });
});
